"use strict";angular.module("comedyApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).service("comedyService",["$http","$log",function(e,t){function n(){i=null!=(i=localStorage.getItem("comedyVerbose"))&&JSON.parse(i)}function o(){var e=localStorage.getItem("comedyOpt");l=null==e?"inferno":e}var i=!1,l="";n(),o(),t.log("comedyService.opt: "+l);var a=[],s=[],r=[],c=0,d=localStorage.getItem("comedyRawlines"+l);null!=d&&(s=d);d=localStorage.getItem("comedyLines"+l);null!=d&&""!=d&&(a=d);function u(){a=[];for(var e=0;e<s.length;e++)!function(e){var t="<br>";if(0<e.trim().length){if(/^##/.test(e))return 0<r.length&&(a.push({name:name,line:c,text:r.join(t),visible:!0}),r=[]),name=e.replace(/^## /,""),c=0;e=e.replace(/--/g,"&#x2012;");r.push(e.trim()),c++,3==r.length&&(a.push({name:name,line:c-2,text:r.join(t),visible:!0}),r=[])}}(s[e]);0<a.length&&a.push({line:c-1,text:s.join("<br>")}),localStorage.setItem("comedyLines"+l,JSON.stringify(a)),localStorage.setItem("comedyLinesCount"+l,3*a.length),t.log("comedyService.linesCountInferno: "+3*a.length)}function m(t){return e.get("https://dsmarkchen.github.io/comedy/data/"+t+".txt").then(function(e){s=e.data.split(/\r?\n/),localStorage.setItem("comedyRawlines"+t,JSON.stringify(s)),u()})}return{opt:function(e){l!=e&&(l=e,localStorage.setItem("comedyOpt",l))},getBook:function(){return null==l&&o(),l},initBook:function(){o()},initVerbose:function(){n()},getVerbose:function(){return i},setVerbose:function(e){i!=e&&(i=e,localStorage.setItem("comedyVerbose",i))},lines:function(e){return a=a!=e?e:a},makelines:function(){u()},feedme:function(){return m(l)},rawlines:function(e){return s=s!=e?e:s},feed:m}}]).filter("highlight",function(){return function(e,t){if(t){var n=new RegExp(t,"g");return e.replace(n,'<span class="highlighted">'+t+"</span>")}return e}}).directive("xwindow",["$window",function(n){return{link:function(e){function t(){console.log("xwindow:"+n.innerWidth),e.width!==n.innerWidth&&(e.width=n.innerWidth,e.$digest()),e.height!==n.innerHeight&&(e.height=n.innerHeight,e.$digest())}e.width=n.innerWidth,e.height=n.innerHeight,angular.element(n).on("resize",t),e.$on("$destroy",function(){angular.element(n).off("resize",t)})},restrict:"A"}}]).directive("countUp",["$compile",function(i){return{restrict:"E",replace:!1,scope:{countTo:"=countTo",start:"=start",step:"=step",interval:"=interval"},controller:["$scope","$element","$attrs","$timeout",function(t,e,n,o){t.millis=t.start,0===e.html().trim().length?e.append(i("<span>{{millis}}</span>")(t)):e.append(i(e.contents())(t)),function e(){o(function(){t.millis+=t.step,t.$digest(),t.millis<t.countTo&&e()},t.interval)}()}]}}]).directive("tooltip",["$compile","$sce",function(i,l){return{restrict:"A",scope:{content:"=tooltipContent"},link:function(t,e,n){t.displayTooltip=!1,t.updateTooltipOpacity=function(e){o.css({opacity:e,"max-width":340})},t.updateTooltipPosition=function(e,t){$(this);o.css({top:e+"px",left:t+"px"})},t.getSafeContent=function(e){return l.trustAsHtml(e)};var o=angular.element('<div ng-show="displayTooltip" id="tooltip">        \t<span ng-bind-html="getSafeContent(content)"></span>        </div>');angular.element('<div ng-show="displayTooltip" class="tooltip">        \t<span ng-bind-html="getSafeContent(content)"></span>        </div>');angular.element(document.querySelector("body")).append(o),e.on("mouseenter",function(e){t.displayTooltip=!0,t.$digest()}),e.on("mousemove",function(e){t.updateTooltipOpacity(.9),t.updateTooltipPosition(e.clientY-20,e.clientX+5)}),e.on("mouseleave",function(){t.displayTooltip=!1,t.$digest()}),i(o)(t)}}}]).directive("xtooltip",function(){return{restrict:"A",link:function(e,t,n){t.hover(function(){t.tooltip({html:"true",container:"body"}),t.tooltip("show")},function(){t.tooltip("hide")})}}}).directive("bs-tooltip",function(){return function(e,t,n){n.$observe("title",function(e){t.tooltip("destroy"),jQuery.trim(e)&&t.tooltip()}),t.on("$destroy",function(){t.tooltip("destroy"),delete n.$$observers.title})}}).directive("owlCarousel",function(){return{restrict:"E",transclude:!1,link:function(i){i.initCarousel=function(e){var t,n={},o=i.$eval($(e).attr("data-options"));for(t in o)n[t]=o[t];$(e).owlCarousel(n)}}}}).directive("owlCarouselItem",function(){return{restrict:"A",transclude:!1,link:function(e,t){e.$last&&e.initCarousel(t.parent())}}}).config(["$routeProvider",function(e,t){e.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/comedy/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/main",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/comedy/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/comedy/voyage",{templateUrl:"views/voyage.html",controller:"VoyageCtrl",controllerAs:"voyage"}).when("/voyage",{templateUrl:"views/voyage.html",controller:"VoyageCtrl",controllerAs:"voyage"}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl",controllerAs:"settings"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/notes",{templateUrl:"views/notes.html",controller:"NotesCtrl",controllerAs:"notes"}).when("/canto",{templateUrl:"views/canto.html",controller:"CantoCtrl",controllerAs:"canto"}).otherwise({redirectTo:"/"})}]),angular.module("comedyApp").filter("split",function(){return function(e){function t(e){if("that"==e||"where"==e||"when"==e||"who"==e||"which"==e)return i+="\n ",void(i+=e);i+=e}var e=e.split(/([!,.;?-])/g),n="",o="",i="";return e.forEach(function(e){if(n+=e,52<e.length)return n.split(/(that|where|which|when|who)/g).forEach(t),o+=i,void(n="");((o+=e).endsWith("--")&&"-"==e||"?"==e||";"==e||"."==e||"!"==e||","==e)&&(o+="\n",n="")}),console.log("line_index:0"),o}}).controller("MainCtrl",["$window","$scope","$location",function(e,t,n){var o=[136,142,136,151,142,115,130,130,133,136,115,139,151,142,124,136,136,136,133,130,139,151,148,151,151,142,136,142,139,148,145,139,157,139],i=[136,133,145,139,136,142,148,148,142,148,139,145,142,139,148,154,142,136,148,148,142,154,139,154,139,142,148,139,145,148,145,160,145],l=[142,148,130,142,139,142,148,148,142,148,139,145,142,139,148,154,142,136,148,148,142,154,139,154,139,142,148,139,145,148,142,151,145];this.test="testing mainController",t.txTotalSymbols=localStorage.getItem("totalSymbols"),t.txTotalLHs=localStorage.getItem("totalLHs"),t.rxTotalSymbols=localStorage.getItem("rxTotalSymbols"),t.rxTotalLHs=localStorage.getItem("rxTotalLHs"),t.linesCountInferno=localStorage.getItem("comedyLinesCountinferno"),t.linesCountPurgatorio=localStorage.getItem("comedyLinesCountpurgatorio"),t.linesCountParadiso=localStorage.getItem("comedyLinesCountparadiso"),null==t.linesCountParadiso&&(t.linesCountParadiso=0),null==t.linesCountPurgatorio&&(t.linesCountPurgatorio=0);var a,s,r,c,d,u=0;for(a in o)u+=o[a];for(s in t.linesTotalInferno=u,t.progressInferno=t.linesCountInferno/t.linesTotalInferno*100,u=0,i)u+=i[s];for(r in t.linesTotalPurgatorio=u,u=0,l)u+=l[r];t.linesTotalParadiso=u,t.isActive=function(e){return e===n.path()},t.ie=(c=window.navigator.userAgent,0<(d=c.indexOf("MSIE"))?parseInt(c.substring(d+5,c.indexOf(".",d))):navigator.userAgent.match(/Trident\/7\./)?11:0)}]),angular.module("comedyApp").controller("CantoCtrl",["$scope","$http","comedyService","fileReader",function(l,e,t,n){l.notes=JSON.parse(localStorage.getItem("comedyNotes")),l.selectedBookIndex="",l.selectedWords="",l.addNote=function(e,t,n){l.notes.push({book:e,key:t,text:n}),localStorage.setItem("comedyNotes",JSON.stringify(l.notes))},l.showSelectedWords=function(e){l.selectedBookIndex=l.opt+", "+e.name+","+e.line,l.selectedWords=l.getWordsSelected()},l.getWordsSelected=function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},l.lines=[],l.selectedWord="",l.selectedText="",l.myQuery=localStorage.getItem("myQuery"),null==l.myQuery&&(l.myQuery="1:1,12",localStorage.setItem("myQuery",l.myQuery)),l.opt=localStorage.getItem("comedyOpt"),null==l.opt&&(l.opt="inferno",localStorage.setItem("comedyOpt",l.opt)),t.opt(l.opt);var o=JSON.parse(localStorage.getItem("comedyLines"+l.opt));null!=o?l.lines=o:t.feedme().then(function(e){l.lines=t.lines});var a=3;l.move=function(){l.selectedWord="",l.selectedText="",l.selectedWords="";var e,t,n,o,i=l.myQuery;""!=i&&(e=(t=i.split(/[,:]/))[0].trim(),n=parseInt(t[1].trim(),10),t=(i=parseInt(t[2].trim(),10))-n,0<a&&(i=i+t+1,0==(o=(n=n+t+1)%3)&&(n+=1,i+=1),2==o&&(--n,--i)),a<0&&(n=n-t-1,i=i-t-1,0==o&&(n+=1,i+=1),2==o&&(--n,--i)),l.myQuery=e+":"+(n=n<0?1:n).toString()+","+i.toString(),localStorage.setItem("myQuery",l.myQuery))},l.prev=function(){a=-3,l.move()},l.next=function(){a=3,l.move()},l.change=function(){t.opt(l.opt),localStorage.setItem("myCantoOpt",l.opt);var e=JSON.parse(localStorage.getItem("comedyLines"+l.opt));null!=e?l.lines=e:t.feedme().then(function(e){l.lines=t.lines})},l.getComedylines=function(){return t.lines},l.$watch("comedyService.rawlines",function(e,t){t!=e&&(l.rawlines=e,localStorage.setItem("myRawlines",l.rawlines))}),l.hoverIn=function(e){l.selectedWord=e.key,l.selectedText=e.text,console.log("hover: "+l.selectedWord)},l.$watch("comedyService.lines",function(e,t){t!=e&&(l.lines=e)}),l.$watch("comedyService.opt",function(e,t){t!=e&&(l.opt=e)})}]).filter("noteFilter",function(){return function(e,t){var i=[];if(""==t)return i;var t=t.split(/[,:]/),l=t[0],a=t[1],s=t[2];return angular.forEach(e,function(e){var t=e.book.split(/[,:]/),n=t[0].toLowerCase(),o=parseInt(t[1]),t=parseInt(t[2]);"inferno"==n&&o==l&&a<=t&&t<=s&&(i.push(e),console.log("book: "+e.book+"\nkey:"+e.key+"\ntext:"+e.text))}),i}}).filter("myCantoFilter",function(){return function(e,t){var n=[];if(""==t)return e;var t=t.split(/[,:]/),o=t[0],i=t[1],l=t[2];return angular.forEach(e,function(e){null!=e.name&&e.name.trim()==o.trim()&&e.line>=i&&e.line<l&&n.push(e)}),n}}),angular.module("comedyApp").controller("NotesCtrl",["$scope","fileReader",function(o,e){o.clear=function(){o.book_name="",o.key="",o.input="",o.ind=-1},o.clear();var t=JSON.parse(localStorage.getItem("comedyNotes"));null==t?(o.items=[{book:"Inferno,1,31",key:"Beasts",text:"- leopard (envy) \n\n- lion (wrath, or pride) \n\n- she-wolf (avarice)\r\n</p>"},{book:"Inferno,1,79",key:"Virgil",text:"Roman Poet, Aeneid"},{book:"Inferno,1,133",key:"Saint Peter",text:"Simon Peter"}],localStorage.setItem("comedyNotes",JSON.stringify(o.items))):o.items=t,o.select=function(e){var t=o.items[e];o.ind=e,o.book_name=t.book,o.key=t.key,o.input=t.text},o.moveItem=function(e){e=o.ind+e;o.items=function(e,t,n){for(;t<0;)t+=e.length;for(;n<0;)n+=e.length;if(n>=e.length)for(var o=n-e.length;1+o--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}(o.items,o.ind,e),localStorage.setItem("comedyNotes",JSON.stringify(o.items)),o.clear()},o.addItem=function(e,t,n){o.items.push({book:e,key:t,text:n}),localStorage.setItem("comedyNotes",JSON.stringify(o.items)),o.clear()},o.updateItem=function(e,t,n){-1!=o.ind?(o.items[o.ind]={book:e,key:t,text:n},localStorage.setItem("comedyNotes",JSON.stringify(o.items)),o.clear()):o.addItem(e,t,n)},o.deleteItem=function(){-1!=o.ind&&(o.items.splice(o.ind,1),localStorage.setItem("comedyNotes",JSON.stringify(o.items)),o.clear())},o.saveJSON=function(e){e=JSON.stringify(e),e=new Blob([e],{type:"application/json"});o.filename=o.filename||"my_json",saveAs(e,o.filename+".json")},o.getFile=function(){e.readAsText(o.file,o).then(function(e){o.items=JSON.parse(e)||[],localStorage.setItem("comedyNotes",JSON.stringify(o.items)),console.log("getTeam "+o.items.length)})},o.$on("fileProgress",function(e,t){o.progress=t.loaded/t.total})}]).filter("markdown",function(){return(new Showdown.converter).makeHtml}),angular.module("comedyApp").controller("VoyageCtrl",["$scope",function(t){t.selectedIndex=-1,t.current=0,t.setCurrent=function(e){t.current=e},t.selectedItem=[],t.items2=[{name:"Francesca",text:"Love, that releases no beloved from loving took hold of me so strongly through his beauty that, as you see, it has not left me yet."},{name:"Purgatorio",text:"the process of transmuting fleshly into spiritual experience"},{name:"Picarda",text:"And in His will there is our peace: that sea to which all beings move—the beings He creates or nature makes—such is His will."}],t.users=["joseph","james","joseph 22 ","joseph"],t.comments=["comment 1","comment2","",""],t.selectItem=function(e){t.selectedItem=t.items2[e],t.selectedIndex=e}}]),angular.module("comedyApp").controller("SettingsCtrl",["$scope","comedyService","fileReader",function(n,t,e){n.comedyService=t,n.verbose=t.getVerbose(),n.chk_verbose=n.verbose,n.changeVerbose=function(){n.verbose=n.chk_verbose,t.setVerbose(n.verbose)},n.opt=t.getBook(),n.input_opt=n.opt,n.items2=[{name:"Inferno",text:"the misery of the spirit bound to the prides and actions of the flash"},{name:"Purgatorio",text:"the process of transmuting fleshly into spiritual experience"},{name:"Paradiso",text:"the degrees of spiritual realization"}],n.users=["joseph","james","joseph 22 ","joseph"],n.comments=["comment 1","comment2","",""],n.change=function(){t.opt(n.input_opt),n.opt=t.getBook(),t.lines([])},n.isNullOrEmpty=function(e){return null==e||""===e},n.getFile=function(){e.readAsText(n.file,n).then(function(e){n.raw=e.split(/\r?\n/),localStorage.setItem("comedyRawlines",JSON.stringify(n.raw)),t.rawlines(n.raw),t.makelines(),console.log("getRaw "+n.raw)})},n.reset=function(){localStorage.removeItem("comedyNotes"),t.opt(n.opt),t.rawlines([]),t.feedme(),t.makelines()},n.$on("fileProgress",function(e,t){n.progress=t.loaded/t.total})}]).directive("ngFileSelect",function(){return{link:function(t,e){e.bind("change",function(e){t.file=(e.srcElement||e.target).files[0],t.getFile()})}}}).factory("fileReader",["$q","$log",function(l,e){e.log("fileReader");var a=function(e,t,n){return function(){n.$apply(function(){t.resolve(e.result)})}},s=function(e,t,n){return function(){n.$apply(function(){t.reject(e.result)})}},r=function(e,t){return function(e){t.$broadcast("fileProgress",{total:e.total,loaded:e.loaded})}};return{readAsText:function(e,t){var n,o,i=l.defer();return(n=i,o=t,(t=new FileReader).onload=a(t,n,o),t.onerror=s(t,n,o),t.onprogress=r(t,o),t).readAsText(e),i.promise}}}]),angular.module("comedyApp").controller("AboutCtrl",["$scope","comedyService","fileReader",function(n,t,e){n.opt=localStorage.getItem("comedyOpt"),null==n.opt&&(n.opt="inferno",localStorage.setItem("comedyOpt",n.opt)),n.items2=[{name:"Inferno",text:"the misery of the spirit bound to the prides and actions of the flash"},{name:"Purgatorio",text:"the process of transmuting fleshly into spiritual experience"},{name:"Paradiso",text:"the degrees of spiritual realization"}],n.users=["joseph","james","joseph 22 ","joseph"],n.comments=["comment 1","comment2","",""],n.change=function(){t.opt(n.opt),t.lines([])},n.isNullOrEmpty=function(e){return null==e||""===e},n.getFile=function(){e.readAsText(n.file,n).then(function(e){n.raw=e.split(/\r?\n/),localStorage.setItem("comedyRawlines",JSON.stringify(n.raw)),t.rawlines(n.raw),t.makelines(),console.log("getRaw "+n.raw)})},n.$on("fileProgress",function(e,t){n.progress=t.loaded/t.total}),n.$watch("comedyService.lines",function(e,t){t!=e&&(n.lines=e)}),n.$watch("comedyService.opt",function(e,t){t!=e&&(n.opt=e)})}]),angular.module("comedyApp").controller("HeaderCtrl",["$scope","$location","comedyService",function(n,t,e){n.comedyService=e,n.verbose=e.getVerbose(),n.nav_open=!0,n.isNavCollapsed=!0,n.toggle_navbar=function(){n.isNavCollapsed=!n.isNavCollapsed,console.log("toggle_navbar:  nav_open:"+n.nav_open)},n.isCollapsed=!1,n.getClass=function(e){return"/"===e?"/"===t.path()?"active":"":t.path().substr(0,e.length)===e?"active":""},n.callapse_navbar=function(){},n.callapse_navbar2=function(){console.log("collapse navbar!!!"),$(".navbar-collapse").hasClass("in")&&(console.log("collapse in click!!!"),$('[data-toggle="collapse"]').click())},n.opt=e.getBook(),n.$on("$routeChangeSuccess",function(){console.log("routechangeSuccuss:  isCollapsed:"+n.isCollapsed)}),n.$watch(function(){return{verbose:e.getVerbose(),opt:e.getBook()}},function(e,t){n.verbose=e.verbose,n.opt=e.opt},!0)}]).directive("collapseListener",["$rootScope","$parse","$document",function(o,e,t){return{restrict:"A",link:function(e,t,n){$("#navbarSupportedContent").on("shown.bs.collapse",function(){console.log("shown supportedContent"),e.nav_open=!0,o.$on("$routeChangeSuccess",function(){console.log("!hide!"),$("#navbarSupportedContent").collapse("hide")})}),$("#navbarSupportedContent").on("hide.bs.collapse",function(){console.log("hide supportedContent"),e.nav_open=!1,o.$on("$routeChangeSuccess",function(){console.log("!hide!"),$("#navbarSupportedContent").collapse("hide")})})}}}]).directive("navDropdown",["$parse","$document",function(i,l){return{restrict:"A",link:function(t,e,n){i(n.navDropdown);function o(e){e=$(e.target);!0!==$(".navbar-collapse").hasClass("navbar-collapse in")||e.hasClass("navbar-toggle")||($(".navbar .navbar-collapse").removeClass("in"),t.navCollapsed=!1)}l.bind("click",o),e.bind("remove",function(){l.unbind("click",o)})}}}]),angular.module("comedyApp").controller("FooterCtrl",["$scope","comedyService","fileReader",function(e,t,n){e.opt=localStorage.getItem("comedyOpt"),null==e.opt&&(e.opt="inferno",localStorage.setItem("comedyOpt",e.opt))}]),angular.module("comedyApp").run(["$templateCache",function(e){e.put("views/about.html",' <section id="about"> <div class="container"> <div class="row"> <div class="col-md-6"> <div class="block"> <ul class="counter-box clearfix"> <li> <div class="block"> <i class="ion-ios-chatboxes-outline"></i> <h4 class="counter"><count-up start="0" step="5" count-to="70" interval="1"></count-up></h4> <span>Life Span</span> </div> </li> <ul class="counter-box clearfix"> <li> <div class="block"> <i class="ion-ios-glasses-outline"></i> <h4 class="counter"><count-up start="0" step="1" count-to="3" interval="1000"></count-up></h4> <span>Root to source</span> </div> </li> <ul class="counter-box clearfix"> <li> <div class="block"> <i class="ion-ios-compose-outline"></i> <h4 class="counter"><count-up count-to="1321" step="1" start="1265" step="10" interval="1"></count-up></h4> <span>Death</span> </div> </li> <ul class="counter-box clearfix"> <li> <div class="block"> <i class="ion-ios-timer-outline"></i> <h4 class="counter"><count-up count-to="1265" step="5" start="1200" interval="1"></count-up></h4> <span>Born</span> </div> </li> </ul> </ul> </ul> </ul> </div> </div> <div class="col-md-6"> <data-owl-carousel class="about-carousel owl-carousel" data-options="{navigation: false, pagination: true, singleItem: true, rewindNav : false}"> <div owl-carousel-item="" ng-repeat="item in ::items2 track by $index" class="owl-item"> <div> <div class="user"> <img src="images/item-img2.1626849d.jpg" alt="People"> <h2>{{item.name}}</h2> </div> <p>{{item.text}}</p> </div> </div> </data-owl-carousel> </div> </div> </div> </section> '),e.put("views/canto.html",'<section id="canto"> <div class="container"> <div class="row"> <div class="col-md-3"> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" ng-model="opt" value="inferno" ng-change="change()"> <label class="form-check-label">inferno</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" ng-model="opt" value="purgatorio" ng-change="change()"> <label class="form-check-label">purgatorio</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" ng-model="opt" value="paradiso" ng-change="change()"> <label class="form-check-label">paradiso</label> </div> </div> <div class="canto-outline col-md-6"> <div class="row" ng-hide="selectedWords == \'\'"> <input type="text" ng-model="selectedBookIndex"> <p>{{selectedWords}}</p> <input type="text" class="form-control" ng-model="noteTextToAdd"> <button class="btn btn-secondary" ng-click="addNote(selectedBookIndex, selectedWords,noteTextToAdd)">+</button> </div> <div class="" ng-repeat="canto in lines | myCantoFilter: myQuery  track by $index "> <div class="row" ng-if="canto.visible"> <div class="col-1" style="margin:0px 0px 0px 0px;padding:0px 0px; border: 1px solid #f8f9fa;"> <p class="line" style="margin:0px 0px 0px 0px;padding:0px 0px;background-color:#f8f9fa;">{{canto.name}}:{{canto.line}} </p> </div> <div class="col-11" style="padding-left:1px;padding-right:1px"> <p ng-mouseup="showSelectedWords(canto)" class="canto" ng-bind-html="canto.text | highlight : selectedWord"></p> </div> </div> </div> </div> <div class="col-md-3"> <div class="row"> <form> <div class="form-group row"> <div class="input-group-addon col-sm-1"><i class="fa fa-search"></i></div> <input type="text" class="form-control col-sm-9 offset-sm-1" placeholder="query: start, end" ng-model="myQuery"> </div> </form> </div> <div class="row"> <button class="btn btn-secondary col-sm-3 offset-sm-1" ng-click="prev()"><i class="ion-ios-arrow-left"></i></button> <button class="btn btn-secondary col-sm-3 offset-sm-1" ng-click="next()"><i class="ion-ios-arrow-right"></i></button> </div> <div class="row"> <ul class="list-group list-group-flush"> <li ng-mouseover="hoverIn(comment)" ng-repeat="comment in notes  | noteFilter: myQuery track by $index"> <small>{{comment.key}}</small> </li> </ul> </div> <div class="row" ng-hide="selectedText == \'\'"> <div class="note" ng-bind-html="selectedText  | markdown"></div> </div> </div> </div> </div></section> '),e.put("views/footer.html",'<div class="footer" ng-controller="FooterCtrl as footer"> <div class="container"> <p><span class="glyphicon glyphicon-heart"></span> ~~ Comedy ~~</p> <p>{{opt}}</p> </div> </div> '),e.put("views/header.html",'<header ng-controller="HeaderCtrl"> <div class="container"> <div class="row"> <div class="col-md-12"> <div ng-if="verbose"> <p> verbose: {{verbose}} </p> <p> book: {{opt}} </p> <p> menuIndice: {{menuIndice}} </p> <p> navbar open: {{nav_open}} </p> <p> navbar isCollapsed: {{isCollapsed}} </p> </div> <nav class="navbar navbar-expand-lg bg-light navbar-light"> <div class="container" collapse-listener=""> <a class="navbar-brand" href="#"><h4>Comedy</h4></a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarSupportedContent"> <ul class="navbar-nav ml-auto"> <li class="nav-item" ng-class="menuIndice == 1 ? \'active\':\'\'"><a class="nav-link nav" ng-click="menuIndice= 1" href="#!canto">Canto</a></li> <li class="nav-item" ng-class="menuIndice == 2 ? \'active\':\'\'"><a class="nav-link nav" ng-click="menuIndice= 2" href="#!notes">Notes</a></li> <li class="nav-item" ng-class="menuIndice == 3 ? \'active\':\'\'"><a class="nav-link nav" ng-click="menuIndice= 3" href="#!settings">Settings</a></li> <li class="nav-item" ng-class="menuIndice == 4 ? \'active\':\'\'"><a class="nav-link nav" ng-click="menuIndice= 4" href="#!about">About</a></li> </ul> </div> </div> </nav> \x3c!-- header Nav Start --\x3e <nav class="navbar navbar-expand-md bg-light navbar-light" ng-hide="true"> <a class="navbar-brand" href="#"><h4>Comedy</h4></a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#defaultNavbar" aria-expanded="{{isCollapse}}" aria-controls="navbarsDefault" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div class="navbar-collapse" ng-class="isCollapsed ? \'collapse\' : \'in\'" id="defaultNavbar"> <ul class="navbar-nav"> <li class="nav-item" ng-class="menuIndice == 1 ? \'active\':\'\'"> <a class="nav-link" ng-click="menuIndice= 1; callapse_navbar()" href="#!canto">Canto</a> </li> <li class="nav-item" ng-class="menuIndice == 2 ? \'active\':\'\'"> <a class="nav-link" ng-click="menuIndice=2; callapse_navbar()" href="#!notes">Notes</a> </li> <li class="nav-item" ng-class="menuIndice == 3 ? \'active\':\'\'"> <a class="nav-link" ng-click="menuIndice=3;  callapse_navbar()" href="#!settings">Settings</a> </li> <li class="nav-item" ng-class="menuIndice == 4 ? \'active\':\'\'"> <a class="nav-link" ng-click="menuIndice = 4; callapse_navbar()" href="#!about">About</a> </li> </ul> </div> </nav> </div> </div> </div> </header> '),e.put("views/main.html",'<div class="jumbotron jumbotron-fluid"> <div class="container"> <div class="block"> <h1 class="animated fadeInUp">The Divine Comedy</h1> <p class="animated fadeInUp">Inferno, Purgatorio, Paradiso</p> <div ng-hide="ie == 0"> <p class="animated fadeInUp">IE {{ie}}</p> </div> </div> </div> </div> <div class="container"> <p> <strong> Summary </strong> </p> <div class="inprogress"> <div class="inprogress-item color-bg-success-inverse" ng-style="{\'width\':progressInferno}" role="progressbar" aria-valuenow="{{progressInferno}}" aria-valuemin="0" aria-valuemax="100"></div> </div> <p><strong>Inferno:</strong>{{progressInferno | number : 2}}%</p> <table class="table table-striped"> <tr> <th> </th> <th> Processed</th> <th> Total</th> <th> Percentage</th> </tr> <tr> <td> Inferno </td> <td>{{linesCountInferno}} </td> <td>{{linesTotalInferno}} </td> <td> {{progressInferno | number : 2}}% </td> </tr> <tr> <td> Purgatorio </td> <td>{{linesCountPurgatorio}} </td> <td>{{linesTotalPurgatorio}} </td> <td>{{linesCountPurgatorio/linesTotalPurgatorio * 100 | number : 2}}% </td> </tr> <tr> <td> Paradiso </td> <td>{{linesCountParadiso}} </td> <td>{{linesTotalParadiso}} </td> <td>{{linesCountParadiso/linesTotalParadiso * 100 | number : 2}}% </td> </tr> </table> <div xwindow> <p ng-if="width > 320">The device window is: [{{width}}, {{height}}].</p> </div> </div> '),e.put("views/notes.html",'<section id="notes"> <div class="container"> <form> <div class="form-group row"> <div class="col-md-3"> <h4><small>Book</small></h4> <input type="text" name="bookname" ng-model="book_name"> <h4><small>Key</small></h4> <input type="text" name="keyword" ng-model="key"> </div> <div class="col-md-6"> <h4><small>Text</small></h4> <textarea ng-model="input" class="form-control" placeholder="Enter Markdown text here" autofocus rows="5" style="max-width: 100%;"></textarea> <div ng-cloak ng-if="input.length > 0"> <h4><small>HTML Preview</small></h4> <div ng-bind-html="input | markdown" class="preview"></div> </div> </div> <div class="col-md-3"> <button class="btn btn-secondary" ng-hide="ind < 0" ng-click="updateItem(book_name, key, input)">Save</button> <button class="btn btn-secondary" ng-hide="ind < 0" ng-click="deleteItem()">Delete</button> <button class="btn btn-secondary" ng-hide="ind < 0" ng-click="moveItem(-1)">Up</button> <button class="btn btn-secondary" ng-hide="ind < 0" ng-click="moveItem(1)">Down</button> <button class="btn btn-secondary" ng-hide="ind >= 0 " ng-click="addItem(book_name, key, input)">Add</button> </div> </div> </form> </div> </section> <section id="notes"> <div class="container"> <table class="table table-hover"> <tbody> <tr class="d-flex" ng-repeat="note in items track by $index " ng-click="select($index)"> <td class="col-sm-3"> <p class="line" style="margin:0px 0px 0px 0px;padding:0px 0px;background-color:#f8f9fa;">{{note.book}} </p> </td> <td class="col-sm-9"> <h4><small>{{note.key}}</small></h4> <div class="preview" ng-bind-html="note.text  | markdown"></div> </td> </tr> </tbody> </table> </div> </section> <section id="notes"> <div class="container"> <div class="col-row"> File Name: <input type="text" ng-model="filename"><br> <button class="btn btn-secondary" ng-click="saveJSON(items)">Save</button> </div> <div class="col-row"> <input type="file" ng-file-select="onFileSelect($files)" class="form-control-file border"> </div> </div> </section> '),e.put("views/settings.html",' <section id="settings"> <div class="container"> <div class="row"> <div class="col-md-12"> <h2> Settings </h2> <label>Verbose: <input type="checkbox" ng-model="chk_verbose" ng-init="verbose" ng-change="changeVerbose()"></label><br> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" ng-model="input_opt" value="inferno" ng-change="change()"> <label class="form-check-label">inferno</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" ng-model="input_opt" value="purgatorio" ng-change="change()"> <label class="form-check-label">purgatorio</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" ng-model="input_opt" value="paradiso" ng-change="change()"> <label class="form-check-label">paradiso</label> </div> <form> <b>Import Your Canto:</b> <input type="file" ng-file-select="onFileSelect($files)" class="form-control-file border"> </form> </div> <div class="col-md-6"> <form> <b>Reset:</b><br> <button class="btn btn-secondary" ng-click="reset()">default</button> </form> </div> </div> </div> </section> '),e.put("views/voyage.html",' <section id="voyage"> <div class="container"> <div class="row"> <div class="col-md-12"> <div class="block"> <div class="voyage-menu"> <ul> <li ng-repeat="item in items2 track by $index " ng-click="setCurrent($index)">{{item.name}}</li> </ul> </div> <div class="voyage-content"> {{items2[current].text}} </div> </div> </div> </div> </div> </section> ')}]);